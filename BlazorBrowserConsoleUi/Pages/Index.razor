@page "/"
@using BlazorBrowserConsoleUi.Core.Utils
@inject StyledLogger StyledLogger

<PageTitle>Testing Console Output</PageTitle>

<div style="display: flex; flex-direction: column;">
    <button class="button btn btn-primary" @onclick="() => LogTable()">Log Table</button>
    <div style="display: flex; flex-direction: row; justify-content: space-evenly; margin:  0 8px;">
        <select @bind="_logLevel" class="form-select">
            <option value="@LogLevel.Default" selected>Default</option>
            <option value="@LogLevel.Info">Info</option>
            <option value="@LogLevel.Warning">Warning</option>
            <option value="@LogLevel.Error">Error</option>
        </select>
        <span style="padding: 8px;"></span>
        <select @bind="_style" class="form-select">
            <option value="@Styles.Default" selected>Default</option>
            <option value="@Styles.Nice">Nice</option>
            <option value="@Styles.Fancy">Fancy</option>
        </select>
    </div>
    <button class="button btn btn-secondary" @onclick="() => LogStyled()">Log Styled</button>
</div>

<style>
    .button {
        margin: 8px;
    }
</style>

@code {
    private LogLevel _logLevel = LogLevel.Default;
    private Styles _style = Styles.Default;
    
    private readonly string _writeInfo = "Please don't hesitate to get in contact with ... some Email@Address.flow";
 
    private void LogStyled()
    {
        StyledLogger?.LogStyled("Hello from C# | " + _writeInfo, _logLevel, _style);
    }

    private void LogTable()
    {
        var table = TestData.GetPeople();
        
        StyledLogger?.LogTable(table);
    }
}

